<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BayesOpt: Demos and examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BayesOpt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('demos.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Demos and examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#cppdemos">C/C++ demos</a><ul><li class="level2"><a href="#quadcpp">Quadratic examples (continuous and discrete)</a></li>
<li class="level2"><a href="#onedcpp">Interactive 1D test</a></li>
<li class="level2"><a href="#stdcpp">Standalone optimization module</a></li>
<li class="level2"><a href="#brcpp">Standard nonlinear function benchmarks</a><ul><li class="level3"><a href="#braninfunc">Branin function</a></li>
<li class="level3"><a href="#hart6func">Hartmann6 function</a></li>
<li class="level3"><a href="#camelfunc">Camelback function</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#pydemos">Python demos</a><ul><li class="level2"><a href="#pyapidemo">Interface test</a></li>
<li class="level2"><a href="#pyproc">Multiprocess demo</a></li>
<li class="level2"><a href="#pycam">Computer Vision demo</a></li>
</ul>
</li>
<li class="level1"><a href="#matdemos">MATLAB/Octave demos</a><ul><li class="level2"><a href="#matapidemo">Interface test</a></li>
<li class="level2"><a href="#reembodemo">Demo in very high dimensions</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>We have include a descriptions of the different demos than can be found in the library. Most of them are used to highlight the capabilities of the Bayesian optimization framework or the characteristics of the library.</p>
<p><b>Important:</b> Some demos requires extra dependencies to work. They will be mention in each demo.</p>
<h1><a class="anchor" id="cppdemos"></a>
C/C++ demos</h1>
<p>These demos are automatically compiled and installed with the library. They can be found in the <code>/bin</code> subfolder. The source code of these demos is in <code>/examples</code> </p>
<h2><a class="anchor" id="quadcpp"></a>
Quadratic examples (continuous and discrete)</h2>
<p><b>bo_cont</b> and <b>bo_disc</b> provides examples of the C (callback) and C++ (inheritance) interfaces for a simple quadratic function. They are the best starting point to start playing with the library.</p>
<h2><a class="anchor" id="onedcpp"></a>
Interactive 1D test</h2>
<p><b>bo_oned</b> deals with a more interesting, yet simple, multimodal 1D function. <b>bo_display</b> shows the same example, but includes an interactive visualization tool to show the features of different configurations, like different surrogate and criteria functions (Important: bo_display requires CMake to find OpenGL and GLUT/FreeGLUT to be compiled).</p>
<p>Note: For some NVIDIA setups, you might need to preload the Pthreads dynamic library. For example, in Linux</p>
<pre class="fragment">&gt;&gt; LD_PRELOAD=/lib/x86_64-linux-gnu/libpthread.so.0 ./bin/bo_display
</pre><div class="image">
<img src="oned.jpg" alt="oned.jpg"/>
</div>
<h2><a class="anchor" id="stdcpp"></a>
Standalone optimization module</h2>
<p>BayesOpt can also be used to optimize a standalone application either using CLI for sending parameters and receiving output (see <b>branin_system_call</b>) or by using XML files to message passing (see <b>branin_xml</b>). Both demos use the Branin function defined in the next section.</p>
<h2><a class="anchor" id="brcpp"></a>
Standard nonlinear function benchmarks</h2>
<h3><a class="anchor" id="braninfunc"></a>
Branin function</h3>
<p><b>bo_branin_*</b> are different examples using the 2D Branin function, which is a standard function to evaluate nonlinear optimization algorithms.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ f(x,y) = \left(y-\frac{5.1}{4\pi^2}x^2 + \frac{5}{\pi}x-6\right)^2 + 10\left(1-\frac{1}{8\pi}\right) \cos(x) + 10 \]" src="form_0.png"/>
</p>
<p>with a search domain <img class="formulaInl" alt="$-5 \leq x \leq 10$" src="form_1.png"/>, <img class="formulaInl" alt="$0 \leq y \leq 15$" src="form_2.png"/>.</p>
<div class="image">
<img src="branin.png" alt="branin.png"/>
</div>
<p>For simplicity to display and use the function, the function used in the code has already been normalized in the [0,1] interval. Then, the function has three global minimum. The position of those points (after normalization) are:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} x &amp;= 0.1239, y = 0.8183\\ x &amp;= 0.5428, y = 0.1517 \qquad \qquad f(x,y) = 0.397887\\ x &amp;= 0.9617, y = 0.1650 \end{align*}" src="form_3.png"/>
</p>
<p><b>bo_branin</b> use sporadically an empirical estimator (MAP) for kernel hyperparameters. Really fast.</p>
<p><b>bo_branin_mcmc</b> use continuously a Bayesian estimator (MCMC) for kernel hyperparameters. Much slower but much more robuts. Although for this function the robustness is not as critical, it might be an issue for more complex or high-dimensional functions.</p>
<h3><a class="anchor" id="hart6func"></a>
Hartmann6 function</h3>
<p><b>bo_hartmann_*</b> are different examples using the 6D Hartmann function, which is a standard function to evaluate nonlinear optimization algorithms.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} f(\mathbf{x}) &amp;= - \sum_{i=1}^{4} \alpha_i \left( -\sum_{j=1}^{6} A_{ij} \left( x_j - P_{ij}\right)^2 \right)\\ \alpha &amp;= \left( 1.0, 1.2, 3.0, 3.2 \right)^T\\ A &amp;= \left(\begin{array}{cccccc} 10 &amp; 3 &amp; 17 &amp; 3.50 &amp; 1.7 &amp; 8 \\ 0.05 &amp; 10 &amp; 17 &amp; 0.1 &amp; 8 &amp; 14 \\ 3 &amp; 3.5 &amp; 1.7 &amp; 10 &amp; 17 &amp; 8 \\ 17 &amp; 8 &amp; 0.05 &amp; 10 &amp; 0.1 &amp; 14 \end{array}\right) \\ P &amp;= 10^{-4} \left(\begin{array}{cccccc} 1312 &amp; 1696 &amp; 5569 &amp; 124 &amp; 8283 &amp; 5886 \\ 2329 &amp; 4135 &amp; 8307 &amp; 3736 &amp; 1004 &amp; 9991 \\ 2348 &amp; 1451 &amp; 3522 &amp; 2883 &amp; 3047 &amp; 6650 \\ 4047 &amp; 8828 &amp; 8732 &amp; 5743 &amp; 1091 &amp; 381 \end{array}\right) \end{align*}" src="form_4.png"/>
</p>
<p> with a search domain <img class="formulaInl" alt="$x_i \in (0,1) \qquad \forall i=1\ldots6$" src="form_5.png"/>.</p>
<p>The global minimum is: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mathbf{x}^* = \left(0.2069, 0.150011, 0.476874, 0.275332, 0.311652, 0.6573 \right) \qquad \qquad f(\mathbf{x}^*) = -3.32237 \]" src="form_6.png"/>
</p>
<h3><a class="anchor" id="camelfunc"></a>
Camelback function</h3>
<p><b>bo_camel_*</b> are different examples using the 2D Camelback function, which is a standard function to evaluate nonlinear optimization algorithms.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ f(x,y) = \left(4 - 2.1x^2 + \frac{x^4}{3}\right) x^2 + x y + \left(-4 + 4y^2\right) y^2 \]" src="form_7.png"/>
</p>
<p>with a search domain <img class="formulaInl" alt="$-2 \leq x \leq 2$" src="form_8.png"/>, <img class="formulaInl" alt="$-1 \leq y \leq 1$" src="form_9.png"/>.</p>
<div class="image">
<img src="camelback.png" alt="camelback.png"/>
</div>
<p>There are two global minima:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} x &amp;= 0.0898, y = -0.7126\\ x &amp;= -0.0898, y = 0.7126 \qquad \qquad f(x,y) = -1.0316 \end{align*}" src="form_10.png"/>
</p>
<h1><a class="anchor" id="pydemos"></a>
Python demos</h1>
<p>These demos use the Python interface of the library. They can be found in the <code>/python</code> subfolder.</p>
<p>Make sure that the interface has been generated and that it can be found in the corresponding path (i.e. PYTHONPATH).</p>
<h2><a class="anchor" id="pyapidemo"></a>
Interface test</h2>
<p><b>demo_quad</b> provides an simple example (quadratic function). It shows the continuous and discrete cases and it also compares the standard (Cython) and the object oriented interfaces. It is the best starting point to start playing with the Python interface.</p>
<p><b>demo_dimscaling</b> shows a 20 dimensional quadratic function with different smoothness in each dimension. It also show the speed of the library for <em>high dimensional functions</em>.</p>
<p><b>demo_distance</b> is equivalent to the demo_quad example, but it includes a penalty term with respect to the distance between the current and previous sample. For example, it can be used to model sampling strategies which includes a mobile agent, like a robotic sensor as seen in <a class="el" href="citelist.html#CITEREF_Marchant2012">[15]</a>.</p>
<h2><a class="anchor" id="pyproc"></a>
Multiprocess demo</h2>
<p><b>demo_multiprocess</b> is a simple example that combines BayesOpt with the standard Python multiprocessing library. It shows how simple BayesOpt can be used in a parallelized setup, where one process is dedicated for the BayesOpt and the rests are dedicated to function evaluations. Also, it shows that BayesOpt is thread-safe.</p>
<h2><a class="anchor" id="pycam"></a>
Computer Vision demo</h2>
<p><b>demo_cam</b> is a demonstration of the potetial of BayesOpt for parameter tuning. The advantage of using BayesOpt versus traditional strategies is that it only requires knowledge of the <em>desired behavior</em>, while traditional methods for parameter tuning requires deep knowledge of the algorithm and the meaning of the parameters.</p>
<p>In this case, it takes a simple example (image binarization) and show how optimizing a simple behavior (balanced white/black result) could match the result of the adaptive thresholding from Otsu's method -default in SimpleCV-. Besides, it finds the optimal with few samples (typically between 10 and 20). It can also be used as reference for hyperparameter optimization.</p>
<p>demo_cam requires SimpleCV and a compatible webcam.</p>
<h1><a class="anchor" id="matdemos"></a>
MATLAB/Octave demos</h1>
<p>These demos use the Matlab interface of the library. They can be found in the <code>/matlab</code> subfolder.</p>
<p>Make sure that the interface has been generated. If the library has been generated as a shared library, make sure that it can be found in the corresponding path (i.e. LD_LIBRARY_PATH in Linux/MacOS) before running MATLAB/Octave.</p>
<h2><a class="anchor" id="matapidemo"></a>
Interface test</h2>
<p><b>demo_test</b> shows the discrete and continuous interface. The objective function can be selected among all the functions defined in the <code>/matlab/testfunctions</code> subfolder, which includes a selection of standard test functions for nonlinear optimization. By default, the test run these functions:</p>
<ul>
<li>Branin</li>
<li>Quadratic function (discrete version)</li>
<li>Hartmann 6D</li>
</ul>
<p>However, these functions are also available for testing:</p>
<ul>
<li>Ackley</li>
<li>Camelback</li>
<li>Langermann</li>
<li>Michaelewicz</li>
<li>Rosenbrock</li>
</ul>
<h2><a class="anchor" id="reembodemo"></a>
Demo in very high dimensions</h2>
<p><b>demo_rembo</b> evaluates the REMBO (Random EMbedding Bayesian Optimization) algorithm for optimization in very high dimensions. The idea is that Bayesian optimization can be used very high dimensions provided that the effective dimension is embedded in a lower space, by using random projections.</p>
<p>In this case, we test it against an artificially augmented Branin function with 1000 dimensions where only 2 dimensions are actually relevant (but unknown). The function is defined in the file: <code>braninghighdim</code> </p>
<p>For details about REMBO, see <a class="el" href="citelist.html#CITEREF_ZiyuWang2013">[29]</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="reference.html">Reference Manual</a></li>
    <li class="footer">Generated on Fri Dec 20 2019 18:57:39 for BayesOpt by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
